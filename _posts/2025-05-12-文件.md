---
layout: post
title: Javaæ˜¯å¦‚ä½•è¯»å–æ–‡ä»¶çš„
---
## ä¸€ã€æ–‡ä»¶è¯»å–çš„ä¸¤ç§åŸºæœ¬æ–¹å¼

Java æä¾›ä¸¤å¤§ç±» I/O æŠ½è±¡ï¼š

| åˆ†ç±»  | é¡¶å±‚æ¥å£ / æŠ½è±¡ç±»    | å…¸å‹å®ç°ç±»                                             | é€‚åˆå¤„ç†         |
| --- | ------------- | ------------------------------------------------- | ------------ |
| å­—èŠ‚æµ | `InputStream` | `FileInputStream`ã€`BufferedInputStream`           | äºŒè¿›åˆ¶æ•°æ®ï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ï¼‰ |
| å­—ç¬¦æµ | `Reader`      | `FileReader`ã€`BufferedReader`ã€`InputStreamReader` | æ–‡æœ¬æ•°æ®ï¼ˆæ—¥å¿—ã€é…ç½®ï¼‰  |

---

## äºŒã€å­—èŠ‚æµï¼šç”¨äºè¯»å–**æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶**

### å…¸å‹ç±»ä¸åœºæ™¯ï¼š

* `FileInputStream`ï¼šè¯»å–æœ¬åœ°æ–‡ä»¶åŸå§‹å­—èŠ‚
* `BufferedInputStream`ï¼šåŠ ç¼“å†²æé«˜æ€§èƒ½
* `DataInputStream`ï¼šè¯»å–åŸºç¡€ç±»å‹ï¼ˆintã€longï¼‰

### ç¤ºä¾‹ï¼š

```java
try (InputStream in = new FileInputStream("data.bin")) {
    byte[] buffer = new byte[1024];
    int len;
    while ((len = in.read(buffer)) != -1) {
        // å¤„ç†å­—èŠ‚æ•°æ®
    }
}
```

### ğŸ“Œ ä½¿ç”¨åœºæ™¯ï¼š

* å›¾ç‰‡ã€è§†é¢‘ã€PDFã€å‹ç¼©åŒ…ç­‰ **éæ–‡æœ¬æ–‡ä»¶**
* ç½‘ç»œä¼ è¾“ä¸­çš„æµæ•°æ®å¤„ç†

---

## ä¸‰ã€å­—ç¬¦æµï¼šç”¨äºè¯»å–**æ–‡æœ¬å†…å®¹**

### å…¸å‹ç±»ä¸åœºæ™¯ï¼š

* `FileReader`ï¼šé»˜è®¤å­—ç¬¦ç¼–ç è¯»å–æ–‡æœ¬
* `BufferedReader`ï¼šæŒ‰è¡Œè¯»å–ï¼Œé€‚åˆå¤§æ–‡æœ¬æ–‡ä»¶
* `InputStreamReader`ï¼šè‡ªå®šä¹‰ç¼–ç è½¬æ¢å­—èŠ‚ä¸ºå­—ç¬¦

### ç¤ºä¾‹ï¼š

```java
try (BufferedReader reader = new BufferedReader(new FileReader("log.txt"))) {
    String line;
    while ((line = reader.readLine()) != null) {
        System.out.println(line);
    }
}
```

æˆ–è€…å¸¦ç¼–ç ï¼š

```java
try (Reader reader = new InputStreamReader(new FileInputStream("utf8.txt"), "UTF-8")) {
    // ...
}
```

### ğŸ“Œ ä½¿ç”¨åœºæ™¯ï¼š

* è¯»å–æ—¥å¿—ã€é…ç½®ã€CSVã€HTML ç­‰ **ç»“æ„åŒ–æˆ–åŠç»“æ„åŒ–æ–‡æœ¬**

---

## å››ã€Files å·¥å…·ç±»ï¼šç°ä»£ç®€åŒ–æ–¹å¼ï¼ˆJava 7+ï¼‰

```java
List<String> lines = Files.readAllLines(Paths.get("sample.txt"), StandardCharsets.UTF_8);
byte[] bytes = Files.readAllBytes(Paths.get("image.jpg"));
```

> æ¨èï¼šé…åˆ `Files.lines()` å’Œ `Stream` ä½¿ç”¨ï¼Œé€‚åˆå¤§æ–‡ä»¶æµå¼å¤„ç†ã€‚

---

## äº”ã€å¸¸è§è¯¯åŒº

1. **å­—ç¬¦æµä¸èƒ½ç”¨äºäºŒè¿›åˆ¶æ–‡ä»¶**ï¼ˆå¯èƒ½ä¹±ç æˆ–æ•°æ®æŸåï¼‰
2. **FileReader ä¸æ”¯æŒæŒ‡å®šç¼–ç **ï¼Œåº”ä¼˜å…ˆä½¿ç”¨ `InputStreamReader`
3. **Buffered ç³»åˆ—æ¨èç”¨äºé«˜æ€§èƒ½è¯»å–**ï¼Œé¿å…é¢‘ç¹ç£ç›˜è®¿é—®

---

## æ€»ç»“

| éœ€æ±‚        | æ¨èç±»                                       |
| --------- | ----------------------------------------- |
| è¯»å–æ–‡æœ¬      | `BufferedReader` / `Files.lines()`        |
| è¯»å–äºŒè¿›åˆ¶æ–‡ä»¶   | `FileInputStream` / `BufferedInputStream` |
| è‡ªå®šä¹‰ç¼–ç è¯»å–æ–‡æœ¬ | `InputStreamReader` + `BufferedReader`    |

> âœ” å­—èŠ‚æµæ˜¯åŸå§‹æ•°æ®å±‚ï¼Œå­—ç¬¦æµæ˜¯å¯¹å…¶çš„å°è£…ä¸è§£ç ï¼Œé€‰æ‹©æ­£ç¡®çš„æµç±»æ˜¯é«˜è´¨é‡ I/O ç¼–ç¨‹çš„ç¬¬ä¸€æ­¥ã€‚

---